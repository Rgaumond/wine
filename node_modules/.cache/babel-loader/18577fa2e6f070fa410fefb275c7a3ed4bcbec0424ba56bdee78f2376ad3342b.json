{"ast":null,"code":"import _objectSpread from\"/Users/richardgaumond/www/vinoveritas/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/Users/richardgaumond/www/vinoveritas/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/richardgaumond/www/vinoveritas/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Form from\"react-bootstrap/Form\";import\"../../index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Select=function Select(props){// Raisin\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dataIsReturned=_useState4[0],setDataReturned=_useState4[1];var _useState5=useState(_defineProperty({},props.name,\"\")),_useState6=_slicedToArray(_useState5,2),inputs=_useState6[0],setInputs=_useState6[1];var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});props.handleChange(e);};var fetchData=function fetchData(){var theURL=\"\";if(props.list===\"grapes\")theURL=process.env.REACT_APP_ENPOINT_URL+\"/grapes\";else if(props.list===\"type\")theURL=process.env.REACT_APP_ENPOINT_URL+\"/winetype\";else if(props.list===\"millesime\")theURL=process.env.REACT_APP_ENPOINT_URL+\"/millesime\";else if(props.list===\"country\")theURL=process.env.REACT_APP_ENPOINT_URL+\"/country\";console.log(theURL);return fetch(theURL).then(function(response){return response.json();}).then(function(data){setData(data.obj);setDataReturned(true);});};useEffect(function(){fetchData();},[]);if(dataIsReturned){if(props.label!==\"\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Form.Label,{children:props.label}),/*#__PURE__*/_jsxs(Form.Select,{onChange:handleChange,\"aria-label\":\"Default select example\",size:\"1\",name:props.name,value:props.defaultValue||\"\",className:props.css,children:[/*#__PURE__*/_jsx(\"option\",{children:props.name}),data.map(function(li){return/*#__PURE__*/_jsx(\"option\",{value:li.name,children:li.name});})]})]});}else{/*#__PURE__*/_jsxs(Form.Select,{onChange:handleChange,\"aria-label\":\"Default select example\",size:\"1\",name:props.name,value:props.defaultValue||\"\",children:[/*#__PURE__*/_jsx(\"option\",{children:props.name}),data.map(function(li){return/*#__PURE__*/_jsx(\"option\",{value:li.name,children:li.name});})]});}}};export default Select;","map":{"version":3,"names":["React","useState","useEffect","Form","Select","props","data","setData","dataIsReturned","setDataReturned","name","inputs","setInputs","handleChange","e","prevState","target","value","fetchData","theURL","list","process","env","REACT_APP_ENPOINT_URL","console","log","fetch","then","response","json","obj","label","defaultValue","css","map","li"],"sources":["/Users/richardgaumond/www/vinoveritas/src/components/Form/Select.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport \"../../index.css\";\nconst Select = (props) => {\n  // Raisin\n  const [data, setData] = useState([]);\n  const [dataIsReturned, setDataReturned] = useState(false);\n\n  const [inputs, setInputs] = useState({\n    [props.name]: \"\",\n  });\n  let handleChange = (e) => {\n    setInputs((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n    props.handleChange(e);\n  };\n\n  const fetchData = () => {\n    let theURL = \"\";\n    if (props.list === \"grapes\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/grapes\";\n    else if (props.list === \"type\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/winetype\";\n    else if (props.list === \"millesime\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/millesime\";\n    else if (props.list === \"country\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/country\";\n    console.log(theURL);\n    return fetch(theURL)\n      .then((response) => response.json())\n      .then((data) => {\n        setData(data.obj);\n        setDataReturned(true);\n      });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (dataIsReturned) {\n    if (props.label !== \"\") {\n      return (\n        <>\n          <Form.Label>{props.label}</Form.Label>\n          <Form.Select\n            onChange={handleChange}\n            aria-label=\"Default select example\"\n            size=\"1\"\n            name={props.name}\n            value={props.defaultValue || \"\"}\n            className={props.css}\n          >\n            <option>{props.name}</option>\n            {data.map((li) => (\n              <option value={li.name}>{li.name}</option>\n            ))}\n          </Form.Select>\n        </>\n      );\n    } else {\n      <Form.Select\n        onChange={handleChange}\n        aria-label=\"Default select example\"\n        size=\"1\"\n        name={props.name}\n        value={props.defaultValue || \"\"}\n      >\n        <option>{props.name}</option>\n        {data.map((li) => (\n          <option value={li.name}>{li.name}</option>\n        ))}\n      </Form.Select>;\n    }\n  }\n};\n\nexport default Select;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}