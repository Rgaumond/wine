{"ast":null,"code":"var _jsxFileName = \"/Users/richardgaumond/www/vinoveritas/src/components/Form/Select.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Select = props => {\n  _s();\n  // Raisin\n  const [data, setData] = useState([]);\n  const [dataIsReturned, setDataReturned] = useState(false);\n  const [inputs, setInputs] = useState({\n    [props.name]: \"\"\n  });\n  let handleChange = e => {\n    setInputs(prevState => ({\n      ...prevState,\n      [e.target.name]: e.target.value\n    }));\n    props.handleChange(e);\n  };\n  const fetchData = () => {\n    let theURL = \"\";\n    if (props.list === \"grapes\") theURL = process.env.REACT_APP_ENPOINT_URL + \"/grapes\";else if (props.list === \"type\") theURL = process.env.REACT_APP_ENPOINT_URL + \"/winetype\";else if (props.list === \"millesime\") theURL = process.env.REACT_APP_ENPOINT_URL + \"/millesime\";else if (props.list === \"country\") theURL = process.env.REACT_APP_ENPOINT_URL + \"/country\";\n    console.log(theURL);\n    return fetch(theURL).then(response => response.json()).then(data => {\n      setData(data.obj);\n      setDataReturned(true);\n    });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  if (dataIsReturned) {\n    if (props.label !== \"\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: props.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          onChange: handleChange,\n          \"aria-label\": \"Default select example\",\n          size: \"1\",\n          name: props.name,\n          value: props.defaultValue || \"\",\n          className: props.css,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: props.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), data.map(li => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: li.name,\n            children: li.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else {\n      /*#__PURE__*/_jsxDEV(Form.Select, {\n        onChange: handleChange,\n        \"aria-label\": \"Default select example\",\n        size: \"1\",\n        name: props.name,\n        value: props.defaultValue || \"Blanc\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: props.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), data.map(li => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: li.name,\n          children: li.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this);\n    }\n  }\n};\n_s(Select, \"V77gi6o1VqXeq72OQOwh4wWvvsk=\");\n_c = Select;\nexport default Select;\nvar _c;\n$RefreshReg$(_c, \"Select\");","map":{"version":3,"names":["React","useState","useEffect","Form","Select","props","data","setData","dataIsReturned","setDataReturned","inputs","setInputs","name","handleChange","e","prevState","target","value","fetchData","theURL","list","process","env","REACT_APP_ENPOINT_URL","console","log","fetch","then","response","json","obj","label","defaultValue","css","map","li"],"sources":["/Users/richardgaumond/www/vinoveritas/src/components/Form/Select.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport \"../../index.css\";\nconst Select = (props) => {\n  // Raisin\n  const [data, setData] = useState([]);\n  const [dataIsReturned, setDataReturned] = useState(false);\n\n  const [inputs, setInputs] = useState({\n    [props.name]: \"\",\n  });\n  let handleChange = (e) => {\n    setInputs((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n    props.handleChange(e);\n  };\n\n  const fetchData = () => {\n    let theURL = \"\";\n    if (props.list === \"grapes\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/grapes\";\n    else if (props.list === \"type\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/winetype\";\n    else if (props.list === \"millesime\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/millesime\";\n    else if (props.list === \"country\")\n      theURL = process.env.REACT_APP_ENPOINT_URL + \"/country\";\n    console.log(theURL);\n    return fetch(theURL)\n      .then((response) => response.json())\n      .then((data) => {\n        setData(data.obj);\n        setDataReturned(true);\n      });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (dataIsReturned) {\n    if (props.label !== \"\") {\n      return (\n        <>\n          <Form.Label>{props.label}</Form.Label>\n          <Form.Select\n            onChange={handleChange}\n            aria-label=\"Default select example\"\n            size=\"1\"\n            name={props.name}\n            value={props.defaultValue || \"\"}\n            className={props.css}\n          >\n            <option>{props.name}</option>\n            {data.map((li) => (\n              <option value={li.name}>{li.name}</option>\n            ))}\n          </Form.Select>\n        </>\n      );\n    } else {\n      <Form.Select\n        onChange={handleChange}\n        aria-label=\"Default select example\"\n        size=\"1\"\n        name={props.name}\n        value={props.defaultValue || \"Blanc\"}\n      >\n        <option>{props.name}</option>\n        {data.map((li) => (\n          <option value={li.name}>{li.name}</option>\n        ))}\n      </Form.Select>;\n    }\n  }\n};\n\nexport default Select;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}